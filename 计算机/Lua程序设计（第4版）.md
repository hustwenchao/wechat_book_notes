---
doc_type: weread-highlights-reviews
bookId: "31186321"
author: 罗伯拖·鲁萨利姆斯奇
cover: https://wfqqreader-1252317822.image.myqcloud.com/cover/321/31186321/t7_31186321.jpg
reviewCount: 1
noteCount: 11
isbn: 9787121338045
category: 计算机-编程设计
lastReadDate: 2023-07-31
---
# 元数据
> [!abstract] Lua程序设计（第4版）
> - ![ Lua程序设计（第4版）|200](https://wfqqreader-1252317822.image.myqcloud.com/cover/321/31186321/t7_31186321.jpg)
> - 书名： Lua程序设计（第4版）
> - 作者： 罗伯拖·鲁萨利姆斯奇
> - 简介： Lua语言是开源嵌入式脚本语言领域中独树一帜的一门语言，在包括游戏、嵌入式等领域具有不可替代的重要地位和极为广泛的应用，Lua也是学习编译原理、VM虚拟机等的重要参考和现实依据，Lua程序设计（第4版）结合作者多年的教学经验，更新到Lua5.3版本，让读者更好地吸收了该语言的特性。
> - 出版时间 2018-07-01 00:00:00
> - ISBN： 9787121338045
> - 分类： 计算机-编程设计
> - 出版社： 电子工业出版社

# 高亮划线

## 推荐序二


- 📌 上善若水，水善利万物而不争 ^31186321-6-842-855
    - ⏱ 2023-07-31 18:03:03 
## 前言


- 📌 可扩展 ^31186321-8-1452-1455
    - ⏱ 2022-10-28 17:12:13 

- 📌 简明 ^31186321-8-1739-1741
    - ⏱ 2022-10-28 17:12:15 

- 📌 高效 ^31186321-8-1897-1899
    - ⏱ 2022-10-28 17:12:17 

- 📌 可移植 ^31186321-8-1996-1999
    - ⏱ 2022-10-28 17:12:39 

- 📌 这些应用使用Lua语言的C语言API去注册新函数、创建新类型和改变部分运算符的行为，以最终达到将Lua语言用于特定领域的目的。 ^31186321-8-2602-2665
    - ⏱ 2022-10-28 17:13:12 
## 1.4 类型和值


- 📌 and和or都遵循短路求值（Short-circuit evaluation）原则，即只在必要时才对第二个操作数进行求值。例如，根据短路求值的原则，表达式（i～=0 and a/i>b）不会发生运行时异常（当i等于0时，a/i不会执行）。 ^31186321-14-3126-3281
    - ⏱ 2022-10-31 13:51:45 
## 3.6 惯例


- 📌 通过与零进行按位或运算，可以把浮点型值强制转换为整型值 ^31186321-25-1130-1157
    - ⏱ 2022-10-31 20:24:01 
## 23 垃圾收集


- 📌 弱引用表（weak table）、析构器（finalizer）和函数collectgarbage是在Lua语言中用来辅助垃圾收集器的主要机制。 ^31186321-144-894-965
    - ⏱ 2023-03-27 15:27:57 
## 23.1 弱引用表


- 📌 弱引用表就是这样一种用来告知Lua语言一个引用不应阻止对一个对象回收的机制。所谓弱引用（weak reference）是一种不在垃圾收集器考虑范围内的对象引用。如果对一个对象的所有引用都是弱引用，那么垃圾收集器将会回收这个对象并删除这些弱引用。Lua用语言通过弱引用表实现弱引用，弱引用表就是元素均为弱引用的表，这意味着如果一个对象只被一个弱引用表持有，那么Lua语言最终会回收这个对象。 ^31186321-145-917-1139
    - ⏱ 2023-03-27 15:30:36 

- 📌 这就意味着有三种类型的弱引用表，即具有弱引用键的表、具有弱引用值的表及同时具有弱引用键和值的表。 ^31186321-145-1313-1361
    - ⏱ 2023-03-27 15:31:14 
# 读书笔记

## 23.2 记忆函数（Memorize Function）

### 划线评论
- 📌 假设有一个通用的服务器，该服务器接收的请求是以字符串形式表示的Lua语言代码。每当服务器接收到一个请求时，它就对字符串运行load函数，然后再调用编译后的函数。不过，函数load的开销很昂贵，而且发送给服务器的某些命令的出现频率可能很高。这样，与其每次收到一条诸如"closeconnection（）"这样的常见命令就重复地调用函数load，还不如让服务器用一个辅助表记忆所有函数load的执行结果。  ^2009032-7H1CJEsFg
    - 💭 Lookup Table的方法。性能优化惯用套路：查表法。
    - ⏱ 2023-03-27 15:34:15
   
# 本书评论
